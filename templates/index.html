<!DOCTYPE html>
<html>
<head>
    <title>LoRa 實時監控</title>
    <meta http-equiv="refresh" content="3">
    <style>
        body { font-family: 'Microsoft JhengHei', sans-serif; background: #f0f2f5; text-align: center; padding: 20px; }
        .container { max-width: 600px; margin: auto; }
        .sensor-card { 
            background: white; border-left: 8px solid #3498db;
            margin: 15px 0; padding: 20px; border-radius: 8px;
            display: flex; justify-content: space-between; align-items: center;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
        }
        .name { font-size: 1.3em; color: #2c3e50; font-weight: bold; }
        .val { font-size: 2em; color: #3498db; }
    </style>
</head>
<body>
    <div class="container">
        <h1>LoRa 設備數據列表</h1>
        {% for sid, val in sensors.items() %}
        <div class="sensor-card">
            <div class="name">{{ names.get(sid, sid) }}</div>
            <div class="val">{{ val }}</div>
        </div>
        {% endfor %}
        <p>最後更新：<span id="ts"></span></p>
    </div>
    <script>document.getElementById('ts').innerHTML = new Date().toLocaleTimeString();</script>
</body>
</html>